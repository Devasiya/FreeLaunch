<div class="container mt-4">
    <h1 class="text-center">Client Details</h1>

    <!-- Flash Messages -->
    <% if (error) { %>
        <div class="alert alert-danger">
            <%= error %>
        </div>
        <% } %>
            <% if (success) { %>
                <div class="alert alert-success">
                    <%= success %>
                </div>
                <% } %>

                    <div class="card mt-3">
                        <div class="card-body">
                            <div class="row">
                                <!-- Profile Picture -->
                                <div class="col-md-3 text-center">
                                    <% if (client.profilePhoto) { %>
                                        <img src="<%= client.profilePhoto %>" alt="Profile"
                                            class="rounded-circle img-fluid" width="150" height="150">
                                        <% } else { %>
                                            <p class="text-muted">No Profile Photo</p>
                                            <% } %>
                                </div>

                                <!-- Client Details -->
                                <div class="col-md-9">
                                    <h3>
                                        <%= client.firstName || "" %>
                                            <%= client.lastName || "" %>
                                    </h3>
                                    <p><strong>Company:</strong>
                                        <%= client.companyName || "N/A" %>
                                    </p>
                                    <p><strong>Email:</strong>
                                        <%= client.email %>
                                    </p>
                                    <p><strong>Phone:</strong>
                                        <%= client.phoneNumber || "N/A" %>
                                    </p>
                                    <p><strong>Category:</strong>
                                        <%= client.category || "N/A" %>
                                    </p>
                                    <p><strong>Description:</strong>
                                        <%= client.description || "N/A" %>
                                    </p>
                                    <p><strong>Credits:</strong>
                                        <%= client.credits %>
                                    </p>

                                    <!-- Location -->
                                    <p><strong>Location:</strong>
                                        <%= client.location.city || "N/A" %>,
                                            <%= client.location.state || "N/A" %>,
                                                <%= client.location.country || "N/A" %>,
                                                    <%= client.location.pincode || "N/A" %>
                                    </p>

                                    <!-- Social Links -->
                                    <p><strong>Socials:</strong>
                                        <% if (client.instagramLink) { %>
                                            <a href="<%= client.instagramLink %>" target="_blank">
                                                <img src="https://cdn-icons-png.flaticon.com/512/1384/1384063.png"
                                                    alt="Instagram" width="20">
                                            </a>
                                            <% } %>
                                                <% if (client.linkedInLink) { %>
                                                    <a href="<%= client.linkedInLink %>" target="_blank">
                                                        <img src="https://cdn-icons-png.flaticon.com/512/1384/1384014.png"
                                                            alt="LinkedIn" width="20">
                                                    </a>
                                                    <% } %>
                                    </p>

                                    <!-- Actions -->
                                    <a href="/api/clients/<%= client._id %>/edit" class="btn btn-warning">Edit</a>
                                    <form action="/api/clients/<%= client._id %>?_method=DELETE" method="POST"
                                        style="display: inline;">
                                        <button type="submit" class="btn btn-danger"
                                            onclick="return confirm('Are you sure?');">Delete</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Projects Section -->
                    <div class="mt-4">
                        <h3>Projects</h3>
                        <% if (client.projects.length===0) { %>
                            <p class="text-muted">No projects available.</p>
                            <% } else { %>
                                <ul class="list-group">
                                    <% client.projects.forEach(project=> { %>
                                        <li class="list-group-item">
                                            <strong>
                                                <%= project.title %>
                                            </strong> - <%= project.description || "No description available" %>
                                        </li>
                                        <% }) %>
                                </ul>
                                <% } %>
                    </div>

                    <!-- Reviews Section -->
                    <div class="mt-4">
                        <h3>Reviews</h3>
                        <% if (client.reviews.length===0) { %>
                            <p class="text-muted">No reviews yet.</p>
                            <% } else { %>
                                <ul class="list-group">
                                    <% client.reviews.forEach(review=> { %>
                                        <li class="list-group-item">
                                            <strong>Rating:</strong>
                                            <%= review.rating %>/5 <br>
                                                <%= review.comment || "No comment provided" %>
                                        </li>
                                        <% }) %>
                                </ul>
                                <% } %>
                    </div>

</div>