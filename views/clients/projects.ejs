<body>
    <div class="container">
        <h1>
            <%= client.firstName %>'s Projects
        </h1>

        <!-- Button to Add New Project -->
        <a href="/api/clients/<%= client._id %>/projects/add" class="btn btn-primary">Add New Project</a>

        <% if (projects.length> 0) { %>
            <ul class="project-list">
                <% projects.forEach(project=> { %>
                    <li class="project-item">
                        <h2>
                            <%= project.title %>
                        </h2>
                        <p><strong>Description:</strong>
                            <%= project.description %>
                        </p>
                        <p><strong>Budget:</strong> $<%= project.budget %>
                        </p>
                        <p><strong>Deadline:</strong>
                            <%= new Date(project.deadline).toDateString() %>
                        </p>
                        <p><strong>Status:</strong>
                            <%= project.status %>
                        </p>


                        <!-- Edit and Delete Buttons for each project -->
                        <a href="/api/clients/<%= client._id %>/projects/<%= project._id %>/edit"
                            class="btn btn-secondary">Edit</a>
                        <form action="/api/clients/<%= client._id %>/projects/<%= project._id %>?_method=DELETE"
                            method="POST" style="display:inline;">
                            <button type="submit" class="btn btn-danger">Delete</button>
                        </form>
                    </li>
                    <% }) %>
            </ul>
            <% } else { %>
                <p>No projects found for this client.</p>
                <% } %>

                    <a href="/api/clients/<%= client._id %>" class="btn btn-secondary">Back to Client</a>
    </div>
</body>